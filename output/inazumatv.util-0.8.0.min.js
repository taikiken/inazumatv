/*!
 * @license inazumatv.com
 * @author (at)taikiken / http://inazumatv.com
 *
 * Copyright (c) 2011-2013 inazumatv.com, inc.
 *
 * Distributed under the terms of the MIT license.
 * http://www.opensource.org/licenses/mit-license.html
 *
 * This notice shall be included in all copies or substantial portions of the Software.
 *
 * inspired by three.js / http://threejs.org and CreateJS / http://createjs.com/
 * thanks Yasunobu Ikeda aka clockMaker / http://clockmaker.jp/
 * and MDN / https://developer.mozilla.org/
 */var inazumatv={};!function(a){"use strict";a.console||(a.console={info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){},table:function(){}}),function(){for(var b=0,c=["ms","moz","webkit","o"],d=0,e=c.length;e>d&&!a.requestAnimationFrame;++d)a.requestAnimationFrame=a[c[d]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[c[d]+"CancelAnimationFrame"]||a[c[d]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(c){var d=(new Date).getTime(),e=Math.max(0,16-(d-b)),f=a.setTimeout(function(){c(d+e)},e);return b=d+e,f}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){clearTimeout(a)}),Object.create||(Object.create=function(){function a(){}return function(b){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return a.prototype=b,new a}}()),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c,d,e=b?b:0;if(!this)throw new TypeError;if(d=this.length,0===d||e>=d)return-1;for(0>e&&(e=d-Math.abs(e)),c=e;d>c;c++)if(this[c]===a)return c;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;for(c=0,d=this.length;d>c;++c)c in this&&a.call(b,this[c],c,this)}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}()}(window.self),function(a){"use strict";function b(a){return!isNaN(parseFloat(a))&&isFinite(a)}a.extend=function(a,b){b.prototype=Object.create(a.prototype),b.prototype.constructor=b},a.isNumeric=b,a.random=function(a,c){return b(c)||(c=a,a=0),Math.random()*(c-a)+a}}(inazumatv),function(a,b){"use strict";function c(){var a,b=[-1,0,0];return t&&(a=g.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),b=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)],z=b),b}function d(){var a,b=h.toLowerCase(),c=[-1,0,0];if(u){a=b.substr(b.indexOf("android")+8,5).split("."),c=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)],B=c[0];var d=A[0]+"."+c[1];c[2]&&(d+=c[2]),C=parseFloat(d),A=c}return c}var e,f,g=a.navigator,h=g.userAgent,i=!!h.match(/msie [6]/i),j=!!h.match(/msie [7]/i),k=!!h.match(/msie [8]/i),l=!!h.match(/msie [9]/i),m=!!h.match(/msie [10]/i),n=!!h.match(/trident/i),o=!!h.match(/msie/i)||n,p=i||j||k,q=!!h.match(/ipad/i),r=!!h.match(/ipod/i),s=!!h.match(/iphone/i)&&!q,t=q||r||s,u=!!h.match(/android/i),v=t||u,w=!!h.match(/chrome/i),x=!!h.match(/firefox/i),y=h.match(/safari/i)&&!w,z=-1,A=-1,B=-1,C=-1;e=c(),f=d();var D=function(){throw"Browser cannot be instantiated"};D={iOS:{is:function(){return t},number:function(){return e},major:function(){return e[0]},version:function(){return parseFloat(e[0]+"."+e[1]+e[2])}},Android:{is:function(){return u},number:function(){return f},major:function(){return B},version:function(){return C}},IE:{is:function(){return o},version:function(){var a=-1;return n?a=11:m?a=10:l?a=9:k?a=8:j?a=7:i&&(a=6),a}},Chrome:{is:function(){return w}},Safari:{is:function(){return y}},Firefox:{is:function(){return x}},ie:function(){return o},ie6:function(){return i},ie7:function(){return j},ie8:function(){return k},ie9:function(){return l},ie10:function(){return m},ie11:function(){return n},chrome:function(){return w},firefox:function(){return x},safari:function(){return y},legacy:function(){return p},mobile:function(){return v},ios:function(){return t},ios_version:function(){return z},android_version:function(){return A},android_version_major:function(){return B},android_version_num:function(){return C},android:function(){return u},iphone:function(){return s},ipad:function(){return q},ipod:function(){return r},hideURLBar:function(){setTimeout(function(){scrollTo(0,1)},0)}},b.Browser=D,b.browser=D}(window,this.inazumatv),function(a,b){"use strict";var c=a.document,d=function(){throw"CookieUtil cannot be instantiated"};d={getItem:function(a){return decodeURIComponent(c.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(a,b,d,e,f,g){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var h="";if(d)switch(d.constructor){case Number:h=1/0===d?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+d;break;case String:h="; expires="+d;break;case Date:h="; expires="+d.toUTCString()}return c.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+h+(f?"; domain="+f:"")+(e?"; path="+e:"")+(g?"; secure":""),!0},removeItem:function(a,b,d){return a&&this.hasItem(a)?(c.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(d?"; domain="+d:"")+(b?"; path="+b:""),!0):!1},hasItem:function(a){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(c.cookie)},keys:function(){for(var a=c.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),b=0;b<a.length;b++)a[b]=decodeURIComponent(a[b]);return a}},b.CookieUtil=d}(window,this.inazumatv),function(a,b){"use strict";var c=function(){this.initialize()},d=c.prototype;d.constructor=b.EventDispatcher,c.initialize=function(a){a.addEventListener=d.addEventListener,a.removeEventListener=d.removeEventListener,a.removeAllEventListeners=d.removeAllEventListeners,a.hasEventListener=d.hasEventListener,a.dispatchEvent=d.dispatchEvent},d._listeners=null,d.initialize=function(){},d.addEventListener=function(a,b){var c=this._listeners;c?this.removeEventListener(a,b):c=this._listeners={};var d=c[a];return d||(d=c[a]=[]),d.push(b),b},d.removeEventListener=function(a,b){var c=this._listeners;if(c){var d=c[a];if(d)for(var e=0,f=d.length;f>e;e++)if(d[e]===b){1===f?delete c[a]:d.splice(e,1);break}}},d.removeAllEventListeners=function(a){a?this._listeners&&delete this._listeners[a]:this._listeners=null},d.dispatchEvent=function(a,b){var c=!1,d=this._listeners;if(a&&d){"string"==typeof a&&(a={type:a});var e=d[a.type];if(!e)return c;a.target=b||this,e=e.slice();for(var f=0,g=e.length;g>f;f++){var h=e[f];c=h.handleEvent?c||h.handleEvent(a):c||h(a)}}return!!c},d.hasEventListener=function(a){var b=this._listeners;return!(!b||!b[a])},d.toString=function(){return"[EventDispatcher]"},b.EventDispatcher=c}(window,this.inazumatv),function(a,b){"use strict";var c=function(a,b){"undefined"==typeof b||null===b?b=[]:Array.isArray(b)||(b=[b]),this.type=a,this.params=b},d=c.prototype;d.constructor=b.EventObject,d.getParams=function(){return this.params},b.EventObject=c}(window,this.inazumatv),function(a){"use strict";function b(){}var c={LoadingData:null,CompleteEvent:null,ProgressEvent:null,ErrorEvent:null};c.LoadingData=function(a,b){this.url=a,this.extra=b,this.image=null},c.CompleteEvent=function(){},c.CompleteEvent.prototype={target:null},c.ProgressEvent=function(){this.itemsLoaded=0,this.itemsTotal=0,this.percent=0,this.data=null,this.target=null},c.ErrorEvent=function(){this.data=null,this.target=null},b.LOG_VERBOSE=0,b.LOG_SILENT=10,b.LOG_ERRORS=4,b._delegate=function(a,b){var c=function(){return a.apply(b,arguments)};return c.func=a,c.thisObj=b,c},b.prototype={_queueArr:[],_registerArr:[],_successArr:[],_errorArr:[],_isStarted:!1,_isRunning:!1,_isFinished:!1,_currentQueues:[],_queueCount:0,numConnections:6,onProgress:null,onComplete:null,onError:null,logLevel:b.LOG_SILENT,getIsRunning:function(){return this._isRunning},getIsFinished:function(){return this._isFinished},getSuccessItems:function(){return this._successArr},getFailedItems:function(){return this._errorArr},getPercent:function(){var a=(this._successArr.length+this._errorArr.length)/this._registerArr.length;return a=Math.min(1,Math.max(0,a))},add:function(a,d){this._isStarted&&this._log("既にLoadManagerインスタンスがstartしているため、add()することができません。",b.LOG_ERRORS);var e=new c.LoadingData(a,d);return this._registerArr.push(e),e},get:function(a){for(var b=0;b<this._registerArr.length;b++)if(this._registerArr[b].url===a)return this._registerArr[b];return null},start:function(a){if(this._isStarted)throw"既にLoadManagerインスタンスがstartしているため、start()することができません。";"number"==typeof a&&(this.numConnections=a),this._queueArr=this._registerArr.concat(),this._execute(this._queueArr[0]),this._isStarted=!0},_loadNextImage:function(){for(;this.numConnections>this._queueCount&&0!==this._queueArr.length;){var a=this._queueArr.shift();this._currentQueues.push(a),this._execute(a),this._queueCount++}this._isRunning=!0},_execute:function(a){null===a.image&&(a.image=new Image);var d=this;a.image.onload=function(){if(d._log("[LM - Success] "+a.url,b.LOG_VERBOSE),d._successArr.push(a),d._queueCount--,"function"==typeof d.onProgress){var e=new c.ProgressEvent;e.target=d,e.itemsLoaded=d._successArr.length,e.itemTotal=d._registerArr.length,e.percent=d.getPercent(),e.data=a,d.onProgress(e)}d._checkFinished()||d._delayFunc()},a.image.onerror=function(){if(d._log("[LM - Error] "+a.url,b.LOG_VERBOSE),d._errorArr.push(a),d._queueCount--,"function"==typeof d.onError){var e=new c.ErrorEvent;e.target=this,e.data=a,d.onError(e)}d._checkFinished()||d._delayFunc()},a.image.src=a.url},_checkFinished:function(){if(this._successArr.length+this._errorArr.length===this._registerArr.length){if(this._isRunning=!1,this._isFinished=!0,"function"==typeof this.onComplete){var a=new c.CompleteEvent;a.target=this,this.onComplete(a)}return!0}return!1},_delayFunc:function(){setTimeout(b._delegate(this._loadNextImage,this),16)},_log:function(a,b){this.logLevel<=b&&console.log(a)}},a.LoadManager=b}(this.inazumatv),function(a){"use strict";function b(a){this._manager=new e,this._imageList=a}var c=a.EventObject,d=a.EventDispatcher,e=a.LoadManager;b.COMPLETE="imageLoaderComplete",b.PROGRESS="imageLoaderProgress",b.ERROR="imageLoaderError",b.START="imageLoaderStart";var f=b.prototype;d.initialize(f),f.start=function(){var a,d,e=this._manager,f=this._imageList,g=this;for(a=0,d=f.length;d>a;a++){var h=f[a];e.add(h)}e.onProgress=function(a){g.dispatchEvent(new c(b.PROGRESS,a),this)},e.onError=function(a){g.dispatchEvent(new c(b.ERROR,a),this)},e.onComplete=function(a){g.dispatchEvent(new c(b.COMPLETE,a),this)},e.start(),g.dispatchEvent(new c(b.START),this)},a.ImageLoader=b}(this.inazumatv),function(a){"use strict";function b(a){this._checkList=null,this.reset(a)}var c=b.prototype;c.reset=function(a){for(var b={},c=0,d=a.length;d>c;c++)b[a[c]]=!1;this._checkList=b},c.clear=function(a){var b=this._checkList;return b.hasOwnProperty(a)?(b[a]=!0,this._isAllClear()):!1},c._isAllClear=function(){var a=this._checkList,b=!0;for(var c in a)if(a.hasOwnProperty(c)&&(b=a[c],!b))break;return b},a.CheckList=b}(this.inazumatv),function(a,b){"use strict";function c(){g=i(c),e.dispatchEvent(f,h)}function d(){return"undefined"!=typeof e?e:(h=this,this._started=!1,f=new l(d.ENTER_FRAME,[]),e=this)}var e,f,g,h,i=a.requestAnimationFrame,j=a.cancelRequestAnimationFrame,k=b.EventDispatcher,l=b.EventObject;d.getInstance=function(){return"undefined"==typeof e&&(e=new d),e},d.ENTER_FRAME="loopManagerEnterFrame";var m=d.prototype;k.initialize(m),m.start=function(){this._started||(c(),this._started=!0)},m.stop=function(){j(g),this._started=!1}}(window.self,this.inazumatv),function(a){"use strict";function b(a){this._startTime=0,this._polling=a,this._eventObj=new d(b.POLLING_PAST)}var c=a.EventDispatcher,d=a.EventObject;b.POLLING_PAST="pollingManagerPollingPast";var e=b.prototype;c.initialize(e),e.start=function(){this._startTime=(new Date).getTime()},e.change=function(a){this._startTime=0,this._polling=a,this.start()},e.update=function(){var a=(new Date).getTime(),b=!1,c=this;return a-this._startTime>=this._polling&&(this._startTime=a,b=!0,setTimeout(function(){c.dispatchEvent(c._eventObj)},0)),b},e.destroy=function(){this.update=function(){}},a.PollingManager=b}(this.inazumatv),function(a){"use strict";function b(a){this.setFPS(a),this._eventObj=new d(b.FPS_FRAME,[])}var c=a.EventDispatcher,d=a.EventObject;b.FPS_FRAME="fpsManagerFpsFrame";var e=b.prototype;c.initialize(e),e.start=function(){this._startTime=(new Date).getTime()},e.stop=function(){this._polling=Number.MAX_VALUE},e.restore=function(){this.changeFPS(this._fps)},e.destroy=function(){this.update=function(){}},e.setFPS=function(a){this._startTime=0,this._polling=1e3/a,this._fps=a},e.changeFPS=function(a){this.setFPS(a),this.start()},e.getFPS=function(){return this._fps},e.update=function(){var a=(new Date).getTime(),b=!1,c=this;return a-this._startTime>=this._polling&&(this._startTime=a,b=!0,setTimeout(function(){c.dispatchEvent(c._eventObj)},0)),b},a.FPSManager=b}(this.inazumatv),function(a){"use strict";function b(){}var c=b.prototype;c.initialize=function(a){this._element=a},c.sourceRandomCharacter="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",c.setRandomChar=function(a){this.sourceRandomCharacter=a},c.emptyCharacter="*",c.fps=60,c.isRunning=!1,c.duration=500,c.setDuration=function(a){this.duration=a},c._orijinalStr="",c._orijinalLength="",c._intervalId=0,c._timeCurrent=0,c._timeStart=0,c._randomIndex=[],c.setText=function(a){this._orijinalStr=a,this._orijinalLength=a.length},c.start=function(){if("undefined"!=typeof this._element){this.stop(),c._randomIndex=[];for(var a="",b=0;b<this._orijinalLength;b++){var e=b/this._orijinalLength;c._randomIndex[b]=Math.random()*(1-e)+e,a+=this.emptyCharacter}this._timeStart=(new Date).getTime(),this._intervalId=setInterval(d.create(this._onInterval,this),1e3/c.fps),this.isRunning=!0,this._element.innerHTML=a}},c.stop=function(){this.isRunning&&clearInterval(this._intervalId),this.isRunning=!1},c._onInterval=function(){this._timeCurrent=(new Date).getTime()-this._timeStart;for(var a=this._timeCurrent/this.duration,b="",d=0;d<this._orijinalLength;d++)b+=a>=c._randomIndex[d]?this._orijinalStr.charAt(d):a<c._randomIndex[d]/3?this.emptyCharacter:this.sourceRandomCharacter.charAt(Math.floor(Math.random()*this.sourceRandomCharacter.length));a>1&&(b=this._orijinalStr,clearInterval(this._intervalId),this.isRunning=!1,this.onComplete()),this._element.innerHTML=b},c.onComplete=function(){};var d={create:function(a,b){var c=function(){return a.apply(b,arguments)};return c.func=a,c.thisObj=b,c}};a.ShuffleText=b}(this.inazumatv),function(a){"use strict";var b=a.external.ExternalJQ=a.external.ExternalJQ||{};b.save=function(a){this._$=a},b.export=function(){if("undefined"==typeof this._$)throw"set first global jQuery object";return this._$}}(this.inazumatv);